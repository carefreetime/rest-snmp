<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <title>Choose Service</title>
  </head>
  <style>
    body {
        margin: 2%
    }
    .hidden_text {
        visibility: hidden;
        height: 0px;
    }
    table{
        width: 100%; 	
        /*自動斷行*/
        word-wrap: break-word;
        table-layout: fixed;
    }
  </style>
  <body>
    <div class="row">
        <table class="table table-dark">
            <tbody>
                <tr>
                    <a class="btn btn-default offset-md-11">
                        <i class="fa fa-sign-out" aria-hidden="true" id="logout"></i>
                    </a>                   
                </tr>
                <tr>
                    <td width="10%">IP Address</td>
                    <td><input type="text" class="form-control" id="ip_address"></td>
                    <td width="10%"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>SysName</td>
                    <td><input type="text" class="form-control" id="sysName"></td>
                    <td>IfNumber</td>
                    <td><input type="text" class="form-control" id="ifNumber"></td>
                </tr>
                <tr>
                    <td>SysContact</td>
                    <td><input type="text" class="form-control" id="sysContact"></td>
                    <td>SysServices</td>
                    <td><input type="text" class="form-control" id="sysServices"></td>
                </tr>
                <tr>
                    <td>SysLocation</td>
                    <td><input type="text" class="form-control" id="sysLocation"></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>SysDescr</td>
                    <td colspan="3"><input type="text" class="form-control" id="sysDescr"></td>
                </tr>
                <tr>
                    <td>SysObjectID</td>
                    <td><input type="text" class="form-control" id="sysObjectId"></td>
                </tr>
                <tr>
                    <td>SysUpTime</td>
                    <td><input type="text" class="form-control" id="sysUpTime"></td>
                    <td colspan="2" style="text-align: right">
                        <a class="btn btn-default">
                            <i class="fa fa-refresh" aria-hidden="true" id="refresh"></i>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
        <h1 class="col-md-12">Choose Service</h1>
        <select class="custom-select col-md-2" id="selectId" onchange="PDUOnChange()">
            <option selected value="0">Choose One</option>
            <option value="1">Get</option>
            <option value="2">GetNext</option>
            <option value="3">GetBulk</option>
            <option value="4">GetSubTree</option>
            <option value="5">Walk</option>
            <option value="6">Set</option>
        </select>
        <form class="col-md-10">
            <div id="get" class="hidden_text">
                <div class="form-group row" id="get">
                    <label for="oid" class="col-md-1 col-form-label text-right">oid</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="oid">
                    </div>
                    <div class="wrapper">
                        <span class="group-btn" >     
                            <a href="#" class="btn btn-primary btn-md" id="get_submit">Submit</a>
                        </span>
                    </div>
                </div>
            </div>            
            <div id="getbulk" class="hidden_text">
                <div class="form-group row" id="getbulk">
                        <label for="n" class="col-md-1 col-form-label text-right">n</label>
                        <div class="col-md-1">
                            <input type="text" class="form-control" id="n" onchange="NOnChange()">
                        </div>
                        <label for="m" class="col-md-1 col-form-label text-right">m</label>
                        <div class="col-md-1">
                            <input type="text" class="form-control" id="m">
                        </div>
                        <div class="col-md-8">
                            <div class="row" id="getbulk_oids"></div>                            
                        </div>
                        <div class="col-md-2 offset-md-10 hidden_text" id="getbulk_button">
                            <button type="submit" class="btn btn-primary" id="getbulk_submit">Submit</button>                
                        </div>
                    </div>
            </div>
            <div id="set" class="hidden_text">
                <div class="form-group row" id="set">
                    <label for="oid" class="col-md-1 col-form-label text-right">oid</label>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="oid0">
                    </div>
                    <label for="type" class="col-md-1 col-form-label text-right">type</label>
                    <div class="col-md-2">
                        <input type="text" class="form-control" id="type">
                    </div>
                    <label for="value" class="col-md-1 col-form-label text-right">value</label>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="value">
                    </div>
                    <button type="submit" class="btn btn-primary" id="set_submit">Submit</button>
                </div>
            </div>                        
        </form>   
        <div id="table" class="hidden_text">
            <table class="table">
                <thead>
                    <tr>
                    <th scope="col">oid</th>
                    <th scope="col">type</th>
                    <th scope="col">value</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script type="text/javascript">
        function ChangeClass(obj) {
            var selectObj = document.getElementById(obj);
            if (selectObj.options[selectObj.options.selectedIndex].value == 3) {
                $('#tbody').html("");
                $("#table").addClass("hidden_text");
                $("#get").addClass("hidden_text");
                $("#getbulk").removeClass("hidden_text");
                $("#set").addClass("hidden_text");
            } else if (selectObj.options[selectObj.options.selectedIndex].value == 6) {
                $('#tbody').html("");
                $("#table").addClass("hidden_text");
                $("#get").addClass("hidden_text");
                $("#getbulk").addClass("hidden_text");
                $("#set").removeClass("hidden_text");
            } else if (selectObj.options[selectObj.options.selectedIndex].value == 0) {
                $('#tbody').html("");
                $("#table").addClass("hidden_text");
                $("#table").addClass("hidden_text");
                $("#get").addClass("hidden_text");
                $("#getbulk").addClass("hidden_text");
                $("#set").addClass("hidden_text");
            } else {
                $('#tbody').html("");
                $("#table").addClass("hidden_text");
                $("#get").removeClass("hidden_text");
                $("#getbulk").addClass("hidden_text");
                $("#set").addClass("hidden_text");
            }
        }
        function PDUOnChange() {
            ChangeClass("selectId");
        }
        function NOnChange() {
            $('#getbulk_oids').html("");
            $("#getbulk_button").removeClass("hidden_text");

            var n = document.getElementById("n").value;
            for (var i = 1; i <= n; i++) {
                $('#getbulk_oids').append(`
                    <label for="oid" class="col-md-1 col-form-label text-right">oid`+i+`</label>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="oid`+i+`">
                    </div>                
                `);
            }

            var m = ++n;
            $('#getbulk_oids').append(`
                <label for="oid" class="col-md-1 col-form-label text-right">oid`+m+`</label>
                <div class="col-md-3">
                    <input type="text" class="form-control" id="oid`+m+`">
                </div>
            `);
        }
    </script>
    <script src="service_script.js"></script>
    <script>
        $(document).ready(function () {
            App.init();
        });
        // if (typeof(Storage) !== "undefined") {
        //     console.log(sessionStorage.getItem("ip"));
        //     console.log(sessionStorage.getItem("community"));            
        // } 
	</script>
</body>
</html>